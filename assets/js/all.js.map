{"version":3,"sources":["all.js"],"names":["Vue","el","data","url","isShowUp","description","problemList","categories","options","page","question","fraction","result","desc","name","level","levelDescription","methods","getData","axios","get","then","res","console","log","Object","keys","nextPage","status","render","$","length","Swal","fire","icon","text","parseInt","val","checked","value","index","Math","floor","categoryIndex","category","problems","problem","resultData","push","resultBtn","resultPage","resultRender","totalFraction","restart","created"],"mappings":"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","file":"all.js","sourcesContent":["new Vue({\n\tel: '#app',\n\tdata: {\n\t\turl: 'https://raw.githubusercontent.com/hexschool/js-training-task/master/api/BigFive.json',\n\t\tisShowUp: false,\n\t\tdescription: '',\n\t\tproblemList: {},\n\t\tcategories: [],\n\t\toptions: [],\n\t\tpage: -1,\n\t\tquestion: '',\n\t\tfraction: 0,\n\t\tresult: [],\n\t\tdesc: '',\n\t\tname: '',\n\t\tlevel: '',\n\t\tlevelDescription: ''\n\t},\n\tmethods: {\n\t\t// 點擊 開始測驗button之後 才抓取資料\n\t\tgetData() {\n\t\t\taxios.get(this.url)\n\t\t\t\t.then(res => {\n          console.log(res);\n\t\t\t\t\tconst { description, problemList } = res.data;\n\t\t\t\t\tthis.description = description;\n          this.problemList = problemList;\n\t\t\t\t\tthis.categories = [...Object.keys(problemList)];\n\t\t\t});\n\t\t},\n\t\t// 控制page並呼叫render\n\t\tnextPage(status) {\n\t\t\tif(status === 'start') {\n\t\t\t\tthis.isShowUp = true;\n\t\t\t\tthis.render(0);\n\t\t\t}else {\n\t\t\t\tif($(\"[name='question']:checked\").length == 0) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ticon: 'error',\t\t\n\t\t\t\t\t\ttext: '請挑選一個選項'\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tthis.render(this.page, parseInt($(\"[name='question']:checked\").val()));\n\t\t\t\t\t$(\"[name='question']:checked\")[0].checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 1.透過page來設定資料並呈現畫面 2.累加分數\n\t\trender(page, value=0) {\n\t\t\tif(page <= 9) {\n\t\t\t\tconst index = Math.floor(page % 2);\n\t\t\t\tconst categoryIndex = Math.floor(page / 2);\n\t\t\t\tconst category = this.categories[categoryIndex]\n\t\t\t\tthis.fraction += value;\n\n\t\t\t\t// Object.keys(this.traits.problemList) 將keys變成一個陣列\n\t\t\t\tthis.question = this.problemList[category].problems[index].problem\n\t\t\t\tthis.options = this.problemList[category].problems[index].options\n\t\t\t\tif(value & index == 1) {\n\t\t\t\t\tconsole.log('record');\n\t\t\t\t\tconst resultData = {\n\t\t\t\t\t\t\tcategory: category,\n\t\t\t\t\t\t\tname: this.problemList[category].name,\n\t\t\t\t\t\t\tfraction: this.fraction,\n\t\t\t\t\t\t\tdescription: this.problemList[category].description\n\t\t\t\t\t};\n\t\t\t\t\tthis.result.push(resultData);\n\t\t\t\t\tconsole.log(this.result);\n\t\t\t\t\tthis.fraction = 0;\n\t\t\t\t};\n\t\t\t\tthis.page++;\n\t\t\t\tconsole.log(this.page);\n\t\t\t\tif(page == 9) {\n\t\t\t\t\tthis.resultBtn();\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tresultBtn() {\n\t\t\tconst resultPage = this.page - 10;\n\t\t\tthis.resultRender(resultPage);\n\t\t\tthis.page++;\n\t\t\tconsole.log(this.page);\n\t\t},\n\t\tresultRender(page) {\n\t\t\tthis.desc = this.result[page].description.desc;\n\t\t\tthis.name = this.result[page].name;\n\t\t\tlet totalFraction = this.result[page].fraction;\n\t\t\tlet level;\n\t\t\ttotalFraction < 6 ? level = 'low' : totalFraction == 6 ? level = 'middle' : level = 'high';\n\t\t\tthis.levelDescription = this.desc = this.result[page].description[level];\n\t\t\tswitch(level) {\n\t\t\t\tcase 'low':\n\t\t\t\t\tthis.level = '低';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\tthis.level = '中';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.level = '高';\n\t\t\t\t\tbreak;\n\t\t\t};\n\t\t},\n\t\trestart() {\n\t\t\tthis.page = -1;\n\t\t\tthis.isShowUp = false;\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getData();\n\t},\n})"]}